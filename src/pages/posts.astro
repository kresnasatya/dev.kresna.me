---
import Layout from '../layouts/Layout.astro';
const posts = await Astro.glob('../pages/posts/*.md');
---

<Layout title="dev.kresna.me - Posts">
    <main>
        <h1>Posts</h1>

        {posts.sort((a, b) => new Date(b.frontmatter.pubDate) - new Date(a.frontmatter.pubDate)).map((post) => <article>
            <h2><a href={post.url}>{post.frontmatter.title}</a></h2>
            <span style="font-size: .8rem;">{(new Intl.DateTimeFormat('en-US', { dateStyle: 'full' })).format(new Date(post.frontmatter.pubDate))}</span>
            <p>{post.frontmatter?.description}</p>
        </article>)}
    </main>
</Layout>